doctype html
html(ng-app="HomeAccountingFront")
  head
    title Dead simple skeleton
    meta(charset='utf-8')
    meta(name="viewport" content="width=device-width, initial-scale=1")
    link(rel="stylesheet" type="text/css" href="/app.css")
    script(src="/vendor.js")
    script(src="/app.js")
    script.
      require("initialize")
  body(layout="column")
    md-toolbar: .md-toolbar-tools
      h2.md-title: span HomeAccounting

    md-container(flex layout="row")
      div(flex=25 layout-padding)
        div
          form.md-inline-form(
            ha-expenditure-editor
            ng-submit="haEE.save()"
            layout="column"
          )
            md-input-container.md-block
              label Desc
              input(ng-model="haEE.expenditure.form.data.attributes.desc")

            div(layout-gt-md="row")
              md-input-container.md-block(flex-gt-md)
                label Amount
                input(ng-model="haEE.expenditure.form.data.attributes.amount")

              md-datepicker(ng-model="haEE.expenditure.form.data.attributes['expent-at']")

            button.md-button.md-primary.md-raised(type="submit") Save

      md-card(flex)
        md-toolbar.md-table-toolbar.md-default(ng-hide="haEL.selected.length")
          .md-toolbar-tools: span Expenditures

        md-toolbar.md-accent(ng-show="haEL.selected.length")
          .md-toolbar-tools(layout="row")
            span Expenditures
            span(flex)
            md-button.md-icon-button(ng-click="haEL.destroySelected()")
              md-icon(md-svg-icon="icons/ic_delete_black_24px.svg")

        md-table-container(ha-expenditure-list)
          table(md-table ng-model="haEL.selected" md-row-select multiple="true")
            thead(md-head)
              tr(md-row)
                th(md-column) Desc
                th(md-column) Amount
                th(md-column) Date

            tbody(md-body)
              tr(
                md-row
                ng-repeat="expenditure in haEL.expenditures track by expenditure.data.id"
                md-select="expenditure"
              )
                td(md-cell ng-bind="expenditure.data.attributes.desc")
                td(md-cell)
                  span(ng-bind="expenditure.data.attributes.amount.currency")
                  | 
                  span(ng-bind="expenditure.data.attributes.amount.value")
                td(md-cell ng-bind="expenditure.data.attributes['expent-at']")

    md-toolbar: .md-toolbar-tools
      p Brought to you by nicooga apps
